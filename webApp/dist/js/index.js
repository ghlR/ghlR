var app=angular.module("app",["ui.router"]);angular.module("app").config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("home",{url:"/home",templateUrl:"view/home_tpl.html",controller:"homeController"}).state("home.list",{url:"/list",template:"<div list-view></div>",controller:"homeController"}).state("home.detail",{url:"/detail/:id",templateUrl:"view/template/detail_tpl.html",controller:"detailController"}),e.otherwise("home")}]).config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("author",{url:"/author",templateUrl:"view/author_tpl.html"})}]).config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("content",{url:"/content",templateUrl:"view/content_tpl.html"})}]).config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("my",{url:"/my",templateUrl:"view/my_tpl.html"})}]),angular.module("app").config(["$sceDelegateProvider",function(t){t.resourceUrlWhitelist(["self","data/home.json"])}]),angular.module("app").controller("detailController",["$stateParams","$scope",function(t,e){e.back=function(){window.history.back()},e.dataItem=e.dataList[t.id]}]),angular.module("app").controller("homeController",["$scope","httpTool","$state",function(t,e,l){t.isLoading=!0,e.getData({url:"data/home.json",method:"get",params:null},function(e){t.dataList=e.posts,t.isLoading=!1,console.log(e.posts)},function(e){t.isLoading=!1,console.log(e)}),l.go("home.list")}]),angular.module("app").service("httpTool",["$http",function(t){this.getData=function(e,l,o){if("post"==e.method){var r="";for(var a in e.params)r+=a+"="+e.params[a]+"&";r=r.slice(0,-1),t({url:e.url,method:e.method,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:r})}else"get"!=e.method&&"jsonp"!=e.method||t({url:e.url,method:e.method,params:e.params}).then(function(t){l(t.data)}).catch(function(t){o(t)})}}]),angular.module("app").directive("detail",function(){return{restrict:"EA",replace:!0,link:function(t,e,l){e.html(l.detail)}}}),angular.module("app").directive("listView",function(){return{restrict:"EA",templateUrl:"view/template/listView.html",replace:!0}}),angular.module("app").directive("nav",function(){return{restrict:"EA",templateUrl:"view/template/nav_tpl.html",replace:!0,link:function(t,e,l){e.find("span").html(l.nav),"true"==l.ishidden&&e.find("em").css({display:"none"})}}}),angular.module("app").directive("tabbar",function(){return{restrict:"EA",templateUrl:"view/template/tab_tpl.html",replace:!0}});